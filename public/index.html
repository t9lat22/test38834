<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>T9 Mini Browser</title>

  <!-- Ultraviolet setup -->
  <script src="/uv/uv.bundle.js"></script>
  <script src="/uv/uv.config.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("/uv/sw.js", {
          scope: __uv$config.prefix,
        });
      });
    }
  </script>

  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: "Poppins", sans-serif; }
    body { background:#111; color:white; height:100vh; overflow:hidden; display:flex; flex-direction:column; align-items:center; justify-content:center; }

    .search-container { text-align:center; width:80%; max-width:700px; }
    .title { font-size:3em; margin-bottom:20px; color:#00b4ff; }
    .search-bar { display:flex; width:100%; height:50px; background:#222; border-radius:50px; overflow:hidden; }
    #urlInput { flex:1; padding-left:20px; border:none; outline:none; font-size:1.1em; background:transparent; color:#eee; }
    #searchButton { padding:0 25px; border:none; outline:none; cursor:pointer; background:linear-gradient(135deg,#00b4ff,#0078ff); color:#fff; font-weight:bold; transition:0.2s ease; }
    #searchButton:hover { transform:scale(1.05); }

    .iframeWindow { width:100%; height:100vh; border:none; display:none; }
    .backButton { position:absolute; top:20px; left:20px; background:#0078ff; border:none; padding:10px 15px; border-radius:10px; cursor:pointer; color:#fff; font-weight:bold; display:none; z-index:1000; }
  </style>
</head>

<body>
  <!-- Search page -->
  <div class="search-container" id="homeScreen">
    <div class="title">T9 Mini Browser</div>
    <div class="search-bar">
      <input type="text" id="urlInput" placeholder="Enter a URL">
      <button id="searchButton">Go</button>
    </div>
  </div>

  <!-- Back button -->
  <button class="backButton" id="backButton">‚Üê Home</button>

  <!-- Iframe for website -->
  <iframe id="iframeWindow" class="iframeWindow"></iframe>

  <script>
    const input = document.getElementById("urlInput");
    const button = document.getElementById("searchButton");
    const iframe = document.getElementById("iframeWindow");
    const home = document.getElementById("homeScreen");
    const backBtn = document.getElementById("backButton");

    // Enter key triggers search
    input.addEventListener("keydown", (e) => {
      if(e.key === "Enter") button.click();
    });

    // Go to website
    button.addEventListener("click", () => {
      let url = input.value.trim();
      if(!url) return;

      if(!/^https?:\/\//i.test(url)) url = "https://" + url;

      iframe.src = __uv$config.prefix + __uv$config.encodeUrl(url);
      iframe.style.display = "block";
      home.style.display = "none";
      backBtn.style.display = "block";
    });

    // Go back to home screen
    backBtn.addEventListener("click", () => {
      iframe.src = "";
      iframe.style.display = "none";
      home.style.display = "block";
      backBtn.style.display = "none";
      input.value = "";
    });
  </script>
</body>
</html>
